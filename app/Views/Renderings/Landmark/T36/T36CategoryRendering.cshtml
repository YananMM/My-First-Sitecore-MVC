@using Landmark.Classes
@using Landmark.Helper
@using Sitecore.Data.Fields
@using Sitecore.Data.Items
@using Landmark.Models
@model RenderingModel
@{
    MagezineHelper helper = new MagezineHelper();
    var maganizeGroups = helper.GetMaganizeGroups();
    var stories = helper.GetAllStories();
}
<div class="container">
    @foreach (var item in maganizeGroups)
    {
        <div class="gd-promotion-box-area">
            <div class="gd-promotion-box-heading">
                <a class="gd-link-brands" href="t22.html">SEE MORE<span class="icomoon-chevron-small-right"></span></a>
                <h3>@item.MaganizeCategory.Fields["Category Name"].ToString().ToUpper()</h3>
            </div>
            <a class="gd-artist-control-l hiden-xs" href="javascript:;">
                <span class="icomoon-thin-arrow-L"></span>
                <span class="sr-only">Previous</span>
            </a>

            <a class="gd-artist-control-r hiden-xs" href="javascript:;">
                <span class="icomoon-thin-arrow-R"></span>
                <span class="sr-only">Next</span>
            </a>
            <div class="row">
                @foreach (var it in item.Stories)
                {
                    <div class="col-sm-4">
                        <div class="gd-promotion-box">
                            <img data-src="../files/landmark/images/magazine/magazine-women-01.jpg">
                            <h4><a href="#">@Html.Sitecore().Field("Story Name", it)</a></h4>
                            <p>@Html.Sitecore().Field("Story Content", it)</p>
                        </div>
                    </div>
                }
            </div>
        </div>
    }
</div>
